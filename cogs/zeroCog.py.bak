import discord
from discord.ext import commands
bot = commands.Bot(command_prefix='!')
class ZeroCog:
    """My custom cog that does stuff!"""
    def __init__(self,bot):
        self.bot = bot
        
    @bot.command()
    async def firstcom(self):
        """This does stuff!"""

        #Your code will go here
        await self.bot.say("I can do stuff!")

    @bot.command(pass_context=True)
    async def all(self, ctx):
        server = ctx.message.server
        for user in server.members:
            await self.bot.say("Hi "+str(user) )

    client = discord.Client()
    
    @bot.event
    async def on_message(self,message):
        await self.bot.say("Hi")
        if message.author.id == self.bot.user.id:
            return

        if message.content.startswith('!hello'):
            msg = 'Hello '.format(message)
            await self.bot.say("Hi")
            await client.send_message(message.channel, msg)

def setup(bot):
    bot.add_cog(ZeroCog(bot))